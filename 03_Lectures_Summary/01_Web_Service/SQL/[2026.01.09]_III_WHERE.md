# SQL WHERE Practice

## 1. 컬럼의 NULL 값 판별

NULL은 값이 없는 상태이므로 `=` 연산자가 아닌 `IS` 연산자를 사용

* Oracle & MySQL

    ```SQL
    SELECT ename, comm FROM emp
    WHERE comm IS NULL;
    ```

* 참고: NULL 값의 정렬 위치 (Default 설정 기준) 정렬 시 NULL이 어디에 위치하는지는 DB 엔진마다 다름

    * Oracle: ASC 시 마지막에 출력, DESC 시 처음에 출력

    * MySQL: ASC 시 처음에 출력, DESC 시 마지막에 출력

## 2. `IS NOT NULL` (부정 판별)

* Oracle & MySQL

    ```SQL
    SELECT ename, comm FROM emp
    WHERE comm IS NOT NULL;
    ```

## 3. 컬럼값 일치 여부 확인

* Oracle & MySQL

    ```SQL
    SELECT ename, empno FROM emp
    WHERE ename = 'SMITH';
    ```

    * Oracle: 기본적으로 대소문자를 엄격히 구분

    * MySQL: 설정에 따라 다르지만, 기본적으로 대소문자를 구분하지 않는 경우가 많음

## 4. 문자열 대/소문자 변환 및 `DUAL` 테이블

* Oracle: 반드시 FROM dual (가상 테이블)을 명시해야 합니다.

    ```SQL
    SELECT 'fisa' FROM dual;
    SELECT 'fisa', UPPER('fisa'), LOWER('fiSA') FROM dual;
    ```

* MySQL: `FROM` 절 없이도 `SELECT` 만으로 실행이 가능

    ```SQL
    SELECT 'fisa' FROM dual;
    SELECT 'fisa', UPPER('fisa'), LOWER('fiSA') FROM dual;
    SELECT 'fisa';
    SELECT 'fisa', UPPER('fisa'), LOWER('fiSA');
    ```

## 5. 다양한 부정 연산자

* Oracle & MySQL

    ```SQL
    -- 표준 SQL
    SELECT empno, deptno FROM emp
    WHERE deptno <> '10';
    -- 프로그래밍 스타일
    SELECT empno, deptno FROM emp
    WHERE deptno != '10';
    -- 논리 부정
    SELECT empno, deptno FROM emp
    WHERE NOT deptno = '10';
    ```

## 6. 논리 연산자 (`AND` / `OR`)

* Oracle & MySQL

    ```SQL
    -- AND
    SELECT * FROM emp
    WHERE deptno = '10' AND job = UPPER('manager');
    -- OR
    SELECT ename, sal FROM emp
    WHERE sal <= '2000' OR sal >= '3000';
    ```

## 7. `IN` 연산식 (다중 택일)

여러 값 중 하나라도 일치하는 데이터를 찾을 때 사용하며, 다중 `OR` 연산을 간결하게 대체

* Oracle & MySQL

    ```SQL
    SELECT * FROM emp
    WHERE comm IN ('300', '500', '1400');
    ```

## 8. `DATE` 타입 처리

* Oracle: 시스템의 날짜 형식 설정에 민감, `TO_DATE()` 함수 사용 권장

    ```SQL
    -- 에러
    -- SELECT ename, empno FROM emp WHERE hiredate = '1981/09/28';
    -- SELECT ename, empno FROM emp WHERE hiredate = '81/09/28';
    -- SELECT ename, empno FROM emp WHERE hiredate = '81-09-28';
    ```

    ```SQL
    -- 정상 실행 및 유효 데이터 검색 완료
    SELECT ename, empno FROM emp
    WHERE hiredate = TO_DATE('1981/09/28', 'yyyy/mm/dd');
    SELECT ename, empno FROM emp
    WHERE hiredate = TO_DATE('1981/09/28', 'yy-mm-dd');
    ```

    ```SQL
    -- 문법은 정상 논리적으로 무의미한 데이터값으로 간주 따라서 검색 데이터는 없음
    SELECT ename, empno FROM emp
    WHERE hiredate = TO_DATE('81/09/28', 'yy-mm-dd');
    ```

* MySQL: 표준  날짜 형식(YYYY-MM-DD)의 문자열을 자동으로 날짜 타입으로 인식

    ```SQL
    SELECT ename, empno FROM emp WHERE hiredate = '1981/09/28';
    SELECT ename, empno FROM emp WHERE hiredate = '81/09/28';
    SELECT ename, empno FROM emp WHERE hiredate = '81-09-28';
    ```

## 9. 범위 비교 연산자 (`BETWEEN`)

경계값을 포함하는(>= AND <=) 범위를 지정

* Oracle & MySQL

    ```SQL
    SELECT ename, sal FROM emp
    WHERE sal BETWEEN '3000' AND '5000';
    ```

* Oracle

    ```SQL
    SELECT ename, sal FROM emp
    WHERE hiredate BETWEEN TO_DATE('1981-06-09', 'yyyy-mm-dd')
                       AND TO_DATE('1982-01-23', 'yyyy-mm-dd');
    ```

* MySQL

    ```SQL
    SELECT ename, hiredate FROM emp
    WHERE hiredate BETWEEN '1981-06-09' AND '1982-01-23';
    ```

## 10. `LIKE` 연산자 (와일드카드 검색)

* `%` : 0개 이상의 모든 문자

* `_` : 정확히 1개의 모든 문자

* Oracle

    ```SQL
    -- S로 시작하는 사원명
    SELECT ename, empno FROM emp WHERE ename LIKE 'S%';
    -- 두번째 문자가 S인 사원명
    SELECT ename, empno FROM emp WHERE ename LIKE '_S%';
    -- 두번째 문자가 L인 사원명
    SELECT ename, empno FROM emp WHERE ename LIKE '_L%';
    -- M이 포함된 사원명
    SELECT ename FROM emp WHERE ename LIKE '%M%';
    -- 이름이 5글자인 사원명
    SELECT ename FROM emp WHERE ename LIKE '_____';
    ```